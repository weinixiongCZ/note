#数学

# 游戏

## 拿瓜子问题

有三堆瓜子，规则是每次只能从一堆中拿(可全拿)，拿走最后瓜子的人获胜。将瓜子数写成二进制数，规定新的加法：和为偶数结果为 0，和为奇数结果为 1，没有进位。结论是当且仅当和含 1 时先手必胜，由于最大的数可以控制每一位的结果，先手的拿法是改变最大数使得结果每一位为 0，无论后手怎么拿，都会使得结果含 1，只有先手才能使得结果为 0，所以先手必胜。反之后手必胜。

$$
\begin{array}{ c r r r }     & 100100000110 & \Large\longrightarrow   & 011001111101\\    + & 11001011110  &     + & 11001011110\\    + & 100011       &     + & 100011\\    \hline    = & 111101111011 &     = & 000000000000\\    \end{array}
$$

例如上表中先手拿走 $100100000110-011001111101$ 个瓜子。

# 排列组合

## 不坐对应位置问题的总数

有编号为 $1\sim n$ 的人坐入编号为 $1\sim n$ 的椅子上，要求每个人都不能坐在和自己编号相同的椅子上，求坐法总数。设坐法总数为 $f_n$，构建递推关系式，1号有 $n-1$ 种坐法，设1号坐在2号位置，此情况再分两类，一种是2号坐在1号位置，有 $f_{n-2}$ 种坐法，另一种是2号不坐在1号位置，即编号为 $2,3,...,n$ 的人没有按顺序坐在编号为 $1,3,...,n$ 的椅子上，有 $f_{n-1}$ 种坐法，所以

$$
\begin{gathered}
f_{n} =( n-1)( f_{n-1} +f_{n-2})\\f_{n} -nf_{n-1} =-\left( f_{n-1} -( n-1) f_{n-2}\right)\\
f_{n} -nf_{n-1} =( -1)^{n-2}( f_{2} -2f_{1}) =( -1)^{n}\\
\displaystyle\frac{f_{n}}{n!} -\frac{f_{n-1}}{( n-1) !} =\frac{( -1)^{n}}{n!}\\
\displaystyle\frac{f_{n}}{n!} =\sum ^{n}_{2}\frac{( -1)^{k}}{k!} =\sum ^{n}_{0}\frac{( -1)^{k}}{k!}\\
\displaystyle\color{red}{f_{n} =n!\left( \sum ^{n}_{k=0}\frac{( -1)^{k}}{k!}\right)}
\end{gathered}
$$